{
   "object_type": "Acquisition",
   "describedBy": "https://raw.githubusercontent.com/AllenNeuralDynamics/aind-data-schema/main/src/aind_data_schema/core/acquisition.py",
   "schema_version": "2.1.0",
   "subject_id": "828422",
   "specimen_id": null,
   "acquisition_start_time": "2025-11-13T17:38:37.079861Z",
   "acquisition_end_time": "2025-11-13T17:38:37.085819Z",
   "experimenters": [
      "Foo",
      "Bar"
   ],
   "protocol_id": null,
   "ethics_review_id": null,
   "instrument_id": "4D",
   "acquisition_type": "AindVrForaging",
   "notes": null,
   "coordinate_system": {
      "object_type": "Coordinate system",
      "name": "origin",
      "origin": "Bregma",
      "axes": [
         {
            "object_type": "Axis",
            "name": "X",
            "direction": "Left_to_right"
         },
         {
            "object_type": "Axis",
            "name": "Y",
            "direction": "Anterior_to_posterior"
         },
         {
            "object_type": "Axis",
            "name": "Z",
            "direction": "Inferior_to_superior"
         }
      ],
      "axis_unit": "millimeter"
   },
   "calibrations": [
      {
         "object_type": "Volume calibration",
         "device_name": "water_valve_solenoid",
         "calibration_date": "2025-11-13T09:38:37.079075-08:00",
         "description": "Volume measured for various solenoid opening times",
         "measured_at": null,
         "input": [
            0.01,
            0.02
         ],
         "input_unit": "second",
         "repeats": null,
         "output": [
            0.003,
            0.006
         ],
         "output_unit": "milliliter",
         "fit": {
            "object_type": "Calibration fit",
            "fit_type": "linear",
            "fit_parameters": {
               "interval_average": {
                  "0.01": 0.003,
                  "0.02": 0.006
               },
               "slope": 0.30000000000000004,
               "offset": 2.6020852139652106e-18,
               "r2": 1.0,
               "valid_domain": [
                  0.01,
                  0.02
               ]
            }
         },
         "notes": null
      }
   ],
   "maintenance": [],
   "data_streams": [
      {
         "object_type": "Data stream",
         "stream_start_time": "2025-11-13T17:38:37.079861Z",
         "stream_end_time": "2025-11-13T17:38:37.085786Z",
         "modalities": [
            {
               "name": "Behavior",
               "abbreviation": "behavior"
            },
            {
               "name": "Behavior videos",
               "abbreviation": "behavior-videos"
            }
         ],
         "code": [
            {
               "object_type": "Code",
               "url": "https://github.com/AllenNeuralDynamics/Aind.Behavior.VrForaging.git",
               "name": "Aind.Behavior.VrForaging",
               "version": "24e86414b6436faf4fc22f1af1cc7939c15b991a",
               "container": null,
               "run_script": "/Users/daniel.birman/proj/Aind.Behavior.VrForaging/src/main.bonsai",
               "language": "Bonsai",
               "language_version": "2.9.0",
               "input_data": null,
               "parameters": null,
               "core_dependency": null
            },
            {
               "object_type": "Code",
               "url": "https://github.com/AllenNeuralDynamics/Aind.Behavior.VrForaging.git",
               "name": "aind-behavior-vr-foraging",
               "version": "24e86414b6436faf4fc22f1af1cc7939c15b991a",
               "container": null,
               "run_script": null,
               "language": "Python",
               "language_version": "3.13.0",
               "input_data": null,
               "parameters": null,
               "core_dependency": null
            }
         ],
         "notes": "test session",
         "active_devices": [
            "FaceCamera",
            "SideCamera",
            "harp_behavior",
            "harp_olfactometer",
            "harp_lickometer",
            "harp_clock_generator",
            "harp_treadmill",
            "harp_sniff_detector",
            "manipulator"
         ],
         "configurations": [
            {
               "object_type": "Detector config",
               "device_name": "FaceCamera",
               "exposure_time": 5000.0,
               "exposure_time_unit": "microsecond",
               "trigger_type": "External",
               "compression": {
                  "object_type": "Code",
                  "url": "https://ffmpeg.org/",
                  "name": "FFMPEG",
                  "version": null,
                  "container": null,
                  "run_script": null,
                  "language": null,
                  "language_version": null,
                  "input_data": null,
                  "parameters": {
                     "video_writer_type": "FFMPEG",
                     "frame_rate": 120,
                     "container_extension": "mp4",
                     "output_arguments": "-vf \"scale=out_color_matrix=bt709:out_range=full,format=bgr24,scale=out_range=full\" -c:v h264_nvenc -pix_fmt yuv420p -color_range full -colorspace bt709 -color_trc linear -tune hq -preset p4 -rc vbr -cq 12 -b:v 0M -metadata author=\"Allen Institute for Neural Dynamics\" -maxrate 700M -bufsize 350M",
                     "input_arguments": "-colorspace bt709 -color_primaries bt709 -color_range full -color_trc linear"
                  },
                  "core_dependency": null
               }
            },
            {
               "object_type": "Detector config",
               "device_name": "SideCamera",
               "exposure_time": 5000.0,
               "exposure_time_unit": "microsecond",
               "trigger_type": "External",
               "compression": {
                  "object_type": "Code",
                  "url": "https://ffmpeg.org/",
                  "name": "FFMPEG",
                  "version": null,
                  "container": null,
                  "run_script": null,
                  "language": null,
                  "language_version": null,
                  "input_data": null,
                  "parameters": {
                     "video_writer_type": "FFMPEG",
                     "frame_rate": 120,
                     "container_extension": "mp4",
                     "output_arguments": "-vf \"scale=out_color_matrix=bt709:out_range=full,format=bgr24,scale=out_range=full\" -c:v h264_nvenc -pix_fmt yuv420p -color_range full -colorspace bt709 -color_trc linear -tune hq -preset p4 -rc vbr -cq 12 -b:v 0M -metadata author=\"Allen Institute for Neural Dynamics\" -maxrate 700M -bufsize 350M",
                     "input_arguments": "-colorspace bt709 -color_primaries bt709 -color_range full -color_trc linear"
                  },
                  "core_dependency": null
               }
            }
         ],
         "connections": []
      }
   ],
   "stimulus_epochs": [
      {
         "object_type": "Stimulus epoch",
         "stimulus_start_time": "2025-11-13T17:38:37.079861Z",
         "stimulus_end_time": "2025-11-13T17:38:37.085786Z",
         "stimulus_name": "AindVrForaging",
         "code": {
            "object_type": "Code",
            "url": "https://github.com/AllenNeuralDynamics/Aind.Behavior.VrForaging.git",
            "name": "Aind.Behavior.VrForaging",
            "version": "24e86414b6436faf4fc22f1af1cc7939c15b991a",
            "container": null,
            "run_script": "/Users/daniel.birman/proj/Aind.Behavior.VrForaging/src/main.bonsai",
            "language": "Bonsai",
            "language_version": "2.9.0",
            "input_data": null,
            "parameters": {
               "task_logic": {
                  "name": "AindVrForaging",
                  "description": "",
                  "task_parameters": {
                     "rng_seed": 42.0,
                     "aind_behavior_services_pkg_version": "0.12.3",
                     "updaters": {
                        "RewardDelayOffset": {
                           "operation": "Offset",
                           "parameters": {
                              "initial_value": 0.0,
                              "on_success": 0.005,
                              "on_failure": 0.0,
                              "increment": 0.005,
                              "decrement": 0.0,
                              "minimum": 0.0,
                              "maximum": 0.2
                           }
                        },
                        "StopDurationOffset": {
                           "operation": "Offset",
                           "parameters": {
                              "initial_value": 0.0,
                              "on_success": 0.005,
                              "on_failure": 0.0,
                              "increment": 0.005,
                              "decrement": 0.0,
                              "minimum": 0.0,
                              "maximum": 0.5
                           }
                        },
                        "StopVelocityThreshold": {
                           "operation": "Gain",
                           "parameters": {
                              "initial_value": 40.0,
                              "on_success": 0.0,
                              "on_failure": 0.75,
                              "increment": 0.0,
                              "decrement": 0.75,
                              "minimum": 10.0,
                              "maximum": 40.0
                           }
                        }
                     },
                     "environment": {
                        "blocks": [
                           {
                              "environment_statistics": {
                                 "patches": [
                                    {
                                       "label": "reset",
                                       "state_index": 0,
                                       "odor_specification": {
                                          "index": 1,
                                          "concentration": 1.0
                                       },
                                       "reward_specification": {
                                          "operant_logic": {
                                             "is_operant": false,
                                             "stop_duration": 0.2,
                                             "time_to_collect_reward": 1000000.0,
                                             "grace_distance_threshold": 10.0
                                          },
                                          "delay": {
                                             "family": "Exponential",
                                             "distribution_parameters": {
                                                "family": "Exponential",
                                                "rate": 1.0
                                             },
                                             "truncation_parameters": {
                                                "truncation_mode": "exclude",
                                                "min": 0.0,
                                                "max": 10.0
                                             },
                                             "scaling_parameters": {
                                                "scale": 1.0,
                                                "offset": 0.0
                                             }
                                          },
                                          "amount": {
                                             "family": "Scalar",
                                             "distribution_parameters": {
                                                "family": "Scalar",
                                                "value": 1.0
                                             },
                                             "truncation_parameters": null,
                                             "scaling_parameters": null
                                          },
                                          "probability": {
                                             "family": "Scalar",
                                             "distribution_parameters": {
                                                "family": "Scalar",
                                                "value": 1.0
                                             },
                                             "truncation_parameters": null,
                                             "scaling_parameters": null
                                          },
                                          "available": {
                                             "family": "Scalar",
                                             "distribution_parameters": {
                                                "family": "Scalar",
                                                "value": 5.0
                                             },
                                             "truncation_parameters": null,
                                             "scaling_parameters": null
                                          },
                                          "reward_function": [
                                             {
                                                "function_type": "PatchRewardFunction",
                                                "amount": null,
                                                "probability": null,
                                                "available": {
                                                   "function_type": "ClampedRateFunction",
                                                   "minimum": 0.0,
                                                   "maximum": 5.0,
                                                   "rate": {
                                                      "family": "Scalar",
                                                      "distribution_parameters": {
                                                         "family": "Scalar",
                                                         "value": -1.0
                                                      },
                                                      "truncation_parameters": null,
                                                      "scaling_parameters": null
                                                   }
                                                },
                                                "rule": "OnReward"
                                             },
                                             {
                                                "function_type": "OnThisPatchEntryRewardFunction",
                                                "amount": null,
                                                "probability": null,
                                                "available": {
                                                   "function_type": "SetValueFunction",
                                                   "value": {
                                                      "family": "Scalar",
                                                      "distribution_parameters": {
                                                         "family": "Scalar",
                                                         "value": 0.1
                                                      },
                                                      "truncation_parameters": null,
                                                      "scaling_parameters": null
                                                   }
                                                },
                                                "rule": "OnThisPatchEntry"
                                             }
                                          ]
                                       },
                                       "patch_virtual_sites_generator": {
                                          "inter_site": {
                                             "render_specification": {
                                                "contrast": 0.5
                                             },
                                             "label": "InterSite",
                                             "length_distribution": {
                                                "family": "Exponential",
                                                "distribution_parameters": {
                                                   "family": "Exponential",
                                                   "rate": 1.0
                                                },
                                                "truncation_parameters": {
                                                   "truncation_mode": "exclude",
                                                   "min": 0.0,
                                                   "max": 10.0
                                                },
                                                "scaling_parameters": {
                                                   "scale": 1.0,
                                                   "offset": 0.0
                                                }
                                             },
                                             "treadmill_specification": {
                                                "friction": {
                                                   "family": "Scalar",
                                                   "distribution_parameters": {
                                                      "family": "Scalar",
                                                      "value": 0.0
                                                   },
                                                   "truncation_parameters": null,
                                                   "scaling_parameters": null
                                                }
                                             }
                                          },
                                          "inter_patch": {
                                             "render_specification": {
                                                "contrast": 1.0
                                             },
                                             "label": "InterPatch",
                                             "length_distribution": {
                                                "family": "Exponential",
                                                "distribution_parameters": {
                                                   "family": "Exponential",
                                                   "rate": 1.0
                                                },
                                                "truncation_parameters": {
                                                   "truncation_mode": "exclude",
                                                   "min": 0.0,
                                                   "max": 10.0
                                                },
                                                "scaling_parameters": {
                                                   "scale": 1.0,
                                                   "offset": 0.0
                                                }
                                             },
                                             "treadmill_specification": {
                                                "friction": {
                                                   "family": "Scalar",
                                                   "distribution_parameters": {
                                                      "family": "Scalar",
                                                      "value": 0.0
                                                   },
                                                   "truncation_parameters": null,
                                                   "scaling_parameters": null
                                                }
                                             }
                                          },
                                          "post_patch": {
                                             "render_specification": {
                                                "contrast": 1.0
                                             },
                                             "label": "PostPatch",
                                             "length_distribution": {
                                                "family": "Exponential",
                                                "distribution_parameters": {
                                                   "family": "Exponential",
                                                   "rate": 1.0
                                                },
                                                "truncation_parameters": {
                                                   "truncation_mode": "exclude",
                                                   "min": 0.0,
                                                   "max": 10.0
                                                },
                                                "scaling_parameters": {
                                                   "scale": 1.0,
                                                   "offset": 0.0
                                                }
                                             },
                                             "treadmill_specification": {
                                                "friction": {
                                                   "family": "Scalar",
                                                   "distribution_parameters": {
                                                      "family": "Scalar",
                                                      "value": 0.5
                                                   },
                                                   "truncation_parameters": null,
                                                   "scaling_parameters": null
                                                }
                                             }
                                          },
                                          "reward_site": {
                                             "render_specification": {
                                                "contrast": 0.5
                                             },
                                             "label": "RewardSite",
                                             "length_distribution": {
                                                "family": "Exponential",
                                                "distribution_parameters": {
                                                   "family": "Exponential",
                                                   "rate": 1.0
                                                },
                                                "truncation_parameters": {
                                                   "truncation_mode": "exclude",
                                                   "min": 0.0,
                                                   "max": 10.0
                                                },
                                                "scaling_parameters": {
                                                   "scale": 1.0,
                                                   "offset": 0.0
                                                }
                                             },
                                             "treadmill_specification": {
                                                "friction": {
                                                   "family": "Scalar",
                                                   "distribution_parameters": {
                                                      "family": "Scalar",
                                                      "value": 0.0
                                                   },
                                                   "truncation_parameters": null,
                                                   "scaling_parameters": null
                                                }
                                             }
                                          }
                                       },
                                       "patch_terminators": [
                                          {
                                             "terminator_type": "OnRejection",
                                             "count": {
                                                "family": "Scalar",
                                                "distribution_parameters": {
                                                   "family": "Scalar",
                                                   "value": 1.0
                                                },
                                                "truncation_parameters": null,
                                                "scaling_parameters": null
                                             }
                                          }
                                       ]
                                    },
                                    {
                                       "label": "slow-replenish",
                                       "state_index": 1,
                                       "odor_specification": {
                                          "index": 0,
                                          "concentration": 1.0
                                       },
                                       "reward_specification": {
                                          "operant_logic": {
                                             "is_operant": false,
                                             "stop_duration": 0.2,
                                             "time_to_collect_reward": 1000000.0,
                                             "grace_distance_threshold": 10.0
                                          },
                                          "delay": {
                                             "family": "Exponential",
                                             "distribution_parameters": {
                                                "family": "Exponential",
                                                "rate": 1.0
                                             },
                                             "truncation_parameters": {
                                                "truncation_mode": "exclude",
                                                "min": 0.0,
                                                "max": 10.0
                                             },
                                             "scaling_parameters": {
                                                "scale": 1.0,
                                                "offset": 0.0
                                             }
                                          },
                                          "amount": {
                                             "family": "Scalar",
                                             "distribution_parameters": {
                                                "family": "Scalar",
                                                "value": 5.0
                                             },
                                             "truncation_parameters": null,
                                             "scaling_parameters": null
                                          },
                                          "probability": {
                                             "family": "Scalar",
                                             "distribution_parameters": {
                                                "family": "Scalar",
                                                "value": 1.0
                                             },
                                             "truncation_parameters": null,
                                             "scaling_parameters": null
                                          },
                                          "available": {
                                             "family": "Scalar",
                                             "distribution_parameters": {
                                                "family": "Scalar",
                                                "value": 5.0
                                             },
                                             "truncation_parameters": null,
                                             "scaling_parameters": null
                                          },
                                          "reward_function": [
                                             {
                                                "function_type": "PatchRewardFunction",
                                                "amount": null,
                                                "probability": null,
                                                "available": {
                                                   "function_type": "ClampedRateFunction",
                                                   "minimum": 0.0,
                                                   "maximum": 5.0,
                                                   "rate": {
                                                      "family": "Scalar",
                                                      "distribution_parameters": {
                                                         "family": "Scalar",
                                                         "value": -1.0
                                                      },
                                                      "truncation_parameters": null,
                                                      "scaling_parameters": null
                                                   }
                                                },
                                                "rule": "OnReward"
                                             },
                                             {
                                                "function_type": "OutsideRewardFunction",
                                                "amount": null,
                                                "probability": null,
                                                "available": {
                                                   "function_type": "ClampedRateFunction",
                                                   "minimum": 0.0,
                                                   "maximum": 5.0,
                                                   "rate": {
                                                      "family": "Scalar",
                                                      "distribution_parameters": {
                                                         "family": "Scalar",
                                                         "value": 1.0
                                                      },
                                                      "truncation_parameters": null,
                                                      "scaling_parameters": null
                                                   }
                                                },
                                                "rule": "OnTime",
                                                "delay": 0
                                             }
                                          ]
                                       },
                                       "patch_virtual_sites_generator": {
                                          "inter_site": {
                                             "render_specification": {
                                                "contrast": 0.5
                                             },
                                             "label": "InterSite",
                                             "length_distribution": {
                                                "family": "Exponential",
                                                "distribution_parameters": {
                                                   "family": "Exponential",
                                                   "rate": 1.0
                                                },
                                                "truncation_parameters": {
                                                   "truncation_mode": "exclude",
                                                   "min": 0.0,
                                                   "max": 10.0
                                                },
                                                "scaling_parameters": {
                                                   "scale": 1.0,
                                                   "offset": 0.0
                                                }
                                             },
                                             "treadmill_specification": {
                                                "friction": {
                                                   "family": "Scalar",
                                                   "distribution_parameters": {
                                                      "family": "Scalar",
                                                      "value": 0.0
                                                   },
                                                   "truncation_parameters": null,
                                                   "scaling_parameters": null
                                                }
                                             }
                                          },
                                          "inter_patch": {
                                             "render_specification": {
                                                "contrast": 1.0
                                             },
                                             "label": "InterPatch",
                                             "length_distribution": {
                                                "family": "Exponential",
                                                "distribution_parameters": {
                                                   "family": "Exponential",
                                                   "rate": 1.0
                                                },
                                                "truncation_parameters": {
                                                   "truncation_mode": "exclude",
                                                   "min": 0.0,
                                                   "max": 10.0
                                                },
                                                "scaling_parameters": {
                                                   "scale": 1.0,
                                                   "offset": 0.0
                                                }
                                             },
                                             "treadmill_specification": {
                                                "friction": {
                                                   "family": "Scalar",
                                                   "distribution_parameters": {
                                                      "family": "Scalar",
                                                      "value": 0.0
                                                   },
                                                   "truncation_parameters": null,
                                                   "scaling_parameters": null
                                                }
                                             }
                                          },
                                          "post_patch": null,
                                          "reward_site": {
                                             "render_specification": {
                                                "contrast": 0.5
                                             },
                                             "label": "RewardSite",
                                             "length_distribution": {
                                                "family": "Exponential",
                                                "distribution_parameters": {
                                                   "family": "Exponential",
                                                   "rate": 1.0
                                                },
                                                "truncation_parameters": {
                                                   "truncation_mode": "exclude",
                                                   "min": 0.0,
                                                   "max": 10.0
                                                },
                                                "scaling_parameters": {
                                                   "scale": 1.0,
                                                   "offset": 0.0
                                                }
                                             },
                                             "treadmill_specification": {
                                                "friction": {
                                                   "family": "Scalar",
                                                   "distribution_parameters": {
                                                      "family": "Scalar",
                                                      "value": 0.0
                                                   },
                                                   "truncation_parameters": null,
                                                   "scaling_parameters": null
                                                }
                                             }
                                          }
                                       },
                                       "patch_terminators": [
                                          {
                                             "terminator_type": "OnRejection",
                                             "count": {
                                                "family": "Scalar",
                                                "distribution_parameters": {
                                                   "family": "Scalar",
                                                   "value": 1.0
                                                },
                                                "truncation_parameters": null,
                                                "scaling_parameters": null
                                             }
                                          }
                                       ]
                                    }
                                 ],
                                 "transition_matrix": [
                                    [
                                       1.0,
                                       0.0
                                    ],
                                    [
                                       0.0,
                                       1.0
                                    ]
                                 ],
                                 "first_state_occupancy": [
                                    1.0,
                                    0.0
                                 ]
                              },
                              "end_conditions": []
                           }
                        ],
                        "sampling_mode": "Random"
                     },
                     "operation_control": {
                        "movable_spout_control": {
                           "enabled": true,
                           "time_to_collect_after_reward": 1.0,
                           "retracting_distance": 2000.0
                        },
                        "odor_control": {
                           "valve_max_open_time": 100000.0,
                           "target_total_flow": 1000.0,
                           "use_channel_3_as_carrier": true,
                           "target_odor_flow": 100.0
                        },
                        "position_control": {
                           "gain": {
                              "x": 1.0,
                              "y": 1.0,
                              "z": 1.0
                           },
                           "initial_position": {
                              "x": 0.0,
                              "y": 2.56,
                              "z": 0.0
                           },
                           "frequency_filter_cutoff": 5.0,
                           "velocity_threshold": 40.0
                        },
                        "audio_control": {
                           "duration": 0.2,
                           "frequency": 1000.0
                        }
                     }
                  },
                  "version": "0.6.2-rc1",
                  "stage_name": null
               },
               "rig": {
                  "aind_behavior_services_pkg_version": "0.12.3",
                  "version": "0.6.2-rc1",
                  "computer_name": "VR-FORAGING-TEST",
                  "rig_name": "test_rig",
                  "triggered_camera_controller": {
                     "device_type": "CameraController",
                     "name": "CameraController",
                     "additional_settings": null,
                     "calibration": null,
                     "cameras": {
                        "FaceCamera": {
                           "device_type": "SpinnakerCamera",
                           "name": "SpinnakerCamera",
                           "additional_settings": null,
                           "calibration": null,
                           "serial_number": "SerialNumber",
                           "binning": 1,
                           "color_processing": "Default",
                           "exposure": 5000,
                           "gain": 0.0,
                           "gamma": null,
                           "adc_bit_depth": 0,
                           "pixel_format": 0,
                           "region_of_interest": {
                              "x": 0,
                              "y": 0,
                              "width": 0,
                              "height": 0
                           },
                           "video_writer": {
                              "video_writer_type": "FFMPEG",
                              "frame_rate": 120,
                              "container_extension": "mp4",
                              "output_arguments": "-vf \"scale=out_color_matrix=bt709:out_range=full,format=bgr24,scale=out_range=full\" -c:v h264_nvenc -pix_fmt yuv420p -color_range full -colorspace bt709 -color_trc linear -tune hq -preset p4 -rc vbr -cq 12 -b:v 0M -metadata author=\"Allen Institute for Neural Dynamics\" -maxrate 700M -bufsize 350M",
                              "input_arguments": "-colorspace bt709 -color_primaries bt709 -color_range full -color_trc linear"
                           }
                        },
                        "SideCamera": {
                           "device_type": "SpinnakerCamera",
                           "name": "SpinnakerCamera",
                           "additional_settings": null,
                           "calibration": null,
                           "serial_number": "SerialNumber",
                           "binning": 1,
                           "color_processing": "Default",
                           "exposure": 5000,
                           "gain": 0.0,
                           "gamma": null,
                           "adc_bit_depth": 0,
                           "pixel_format": 0,
                           "region_of_interest": {
                              "x": 0,
                              "y": 0,
                              "width": 0,
                              "height": 0
                           },
                           "video_writer": {
                              "video_writer_type": "FFMPEG",
                              "frame_rate": 120,
                              "container_extension": "mp4",
                              "output_arguments": "-vf \"scale=out_color_matrix=bt709:out_range=full,format=bgr24,scale=out_range=full\" -c:v h264_nvenc -pix_fmt yuv420p -color_range full -colorspace bt709 -color_trc linear -tune hq -preset p4 -rc vbr -cq 12 -b:v 0M -metadata author=\"Allen Institute for Neural Dynamics\" -maxrate 700M -bufsize 350M",
                              "input_arguments": "-colorspace bt709 -color_primaries bt709 -color_range full -color_trc linear"
                           }
                        }
                     },
                     "frame_rate": 120
                  },
                  "monitoring_camera_controller": {
                     "device_type": "CameraController",
                     "name": "CameraController",
                     "additional_settings": null,
                     "calibration": null,
                     "cameras": {
                        "WebCam0": {
                           "device_type": "WebCamera",
                           "name": "WebCamera",
                           "additional_settings": null,
                           "calibration": null,
                           "index": 0,
                           "video_writer": null
                        }
                     },
                     "frame_rate": 30
                  },
                  "harp_behavior": {
                     "device_type": "Behavior",
                     "name": "Behavior",
                     "additional_settings": null,
                     "calibration": null,
                     "who_am_i": 1216,
                     "serial_number": null,
                     "port_name": "COM3"
                  },
                  "harp_olfactometer": {
                     "device_type": "Olfactometer",
                     "name": "Olfactometer",
                     "additional_settings": null,
                     "calibration": {
                        "device_name": "Olfactometer",
                        "input": {
                           "channel_config": {
                              "0": {
                                 "channel_index": 0,
                                 "channel_type": "Odor",
                                 "flow_rate_capacity": 100,
                                 "flow_rate": 100.0,
                                 "odorant": "Amyl Acetate",
                                 "odorant_dilution": 1.5
                              },
                              "1": {
                                 "channel_index": 1,
                                 "channel_type": "Odor",
                                 "flow_rate_capacity": 100,
                                 "flow_rate": 100.0,
                                 "odorant": "Banana",
                                 "odorant_dilution": 1.5
                              },
                              "2": {
                                 "channel_index": 2,
                                 "channel_type": "Odor",
                                 "flow_rate_capacity": 100,
                                 "flow_rate": 100.0,
                                 "odorant": "Apple",
                                 "odorant_dilution": 1.5
                              },
                              "3": {
                                 "channel_index": 3,
                                 "channel_type": "Carrier",
                                 "flow_rate_capacity": 1000,
                                 "flow_rate": 100,
                                 "odorant": null,
                                 "odorant_dilution": null
                              }
                           }
                        },
                        "output": {},
                        "date": "2025-11-13T09:38:37.073180",
                        "description": "Calibration of the harp olfactometer device",
                        "notes": null
                     },
                     "who_am_i": 1140,
                     "serial_number": null,
                     "port_name": "COM4"
                  },
                  "harp_lickometer": {
                     "device_type": "LicketySplit",
                     "name": "LicketySplit",
                     "additional_settings": null,
                     "calibration": null,
                     "who_am_i": 1400,
                     "serial_number": null,
                     "port_name": "COM5"
                  },
                  "harp_clock_generator": {
                     "device_type": "WhiteRabbit",
                     "name": "WhiteRabbit",
                     "additional_settings": null,
                     "calibration": null,
                     "who_am_i": 1404,
                     "serial_number": null,
                     "port_name": "COM6",
                     "connected_clock_outputs": []
                  },
                  "harp_analog_input": null,
                  "harp_treadmill": {
                     "device_type": "Treadmill",
                     "name": "Treadmill",
                     "additional_settings": null,
                     "calibration": {
                        "device_name": "Treadmill",
                        "input": {},
                        "output": {
                           "wheel_diameter": 15.0,
                           "pulses_per_revolution": 28800,
                           "invert_direction": false,
                           "brake_lookup_calibration": [
                              [
                                 0.0,
                                 0.0
                              ],
                              [
                                 1.0,
                                 65535.0
                              ]
                           ]
                        },
                        "date": null,
                        "description": "Calibration of the treadmill system",
                        "notes": null
                     },
                     "who_am_i": 1402,
                     "serial_number": null,
                     "port_name": "COM8"
                  },
                  "harp_sniff_detector": {
                     "device_type": "SniffDetector",
                     "name": "SniffDetector",
                     "additional_settings": null,
                     "calibration": null,
                     "who_am_i": 1401,
                     "serial_number": null,
                     "port_name": "COM7"
                  },
                  "harp_environment_sensor": null,
                  "manipulator": {
                     "device_type": "StepperDriver",
                     "name": "AindManipulator",
                     "additional_settings": {
                        "spout_axis": 2
                     },
                     "calibration": {
                        "device_name": "AindManipulator",
                        "input": {
                           "full_step_to_mm": {
                              "x": 0.01,
                              "y1": 0.01,
                              "y2": 0.01,
                              "z": 0.01
                           },
                           "axis_configuration": [
                              {
                                 "axis": 2,
                                 "step_acceleration_interval": 100,
                                 "step_interval": 100,
                                 "microstep_resolution": 0,
                                 "maximum_step_interval": 2000,
                                 "motor_operation_mode": 0,
                                 "max_limit": 25.0,
                                 "min_limit": -0.01
                              },
                              {
                                 "axis": 3,
                                 "step_acceleration_interval": 100,
                                 "step_interval": 100,
                                 "microstep_resolution": 0,
                                 "maximum_step_interval": 2000,
                                 "motor_operation_mode": 0,
                                 "max_limit": 25.0,
                                 "min_limit": -0.01
                              },
                              {
                                 "axis": 1,
                                 "step_acceleration_interval": 100,
                                 "step_interval": 100,
                                 "microstep_resolution": 0,
                                 "maximum_step_interval": 2000,
                                 "motor_operation_mode": 0,
                                 "max_limit": 25.0,
                                 "min_limit": -0.01
                              },
                              {
                                 "axis": 4,
                                 "step_acceleration_interval": 100,
                                 "step_interval": 100,
                                 "microstep_resolution": 0,
                                 "maximum_step_interval": 2000,
                                 "motor_operation_mode": 0,
                                 "max_limit": 25.0,
                                 "min_limit": -0.01
                              }
                           ],
                           "homing_order": [
                              2,
                              3,
                              1,
                              4
                           ],
                           "initial_position": {
                              "x": 0.0,
                              "y1": 0.0,
                              "y2": 0.0,
                              "z": 0.0
                           }
                        },
                        "output": {},
                        "date": null,
                        "description": "Calibration of the load cells system",
                        "notes": null
                     },
                     "who_am_i": 1130,
                     "serial_number": null,
                     "port_name": "COM9"
                  },
                  "screen": {
                     "device_type": "Screen",
                     "name": "Screen",
                     "additional_settings": null,
                     "calibration": {
                        "left": {
                           "intrinsics": {
                              "frame_width": 1920,
                              "frame_height": 1080,
                              "display_width": 20,
                              "display_height": 15
                           },
                           "extrinsics": {
                              "rotation": {
                                 "x": 0.0,
                                 "y": 1.0472,
                                 "z": 0.0
                              },
                              "translation": {
                                 "x": -16.6917756,
                                 "y": 1.309016,
                                 "z": -3.575264
                              }
                           }
                        },
                        "center": {
                           "intrinsics": {
                              "frame_width": 1920,
                              "frame_height": 1080,
                              "display_width": 20,
                              "display_height": 15
                           },
                           "extrinsics": {
                              "rotation": {
                                 "x": 0.0,
                                 "y": 0.0,
                                 "z": 0.0
                              },
                              "translation": {
                                 "x": 0.0,
                                 "y": 1.309016,
                                 "z": -13.27
                              }
                           }
                        },
                        "right": {
                           "intrinsics": {
                              "frame_width": 1920,
                              "frame_height": 1080,
                              "display_width": 20,
                              "display_height": 15
                           },
                           "extrinsics": {
                              "rotation": {
                                 "x": 0.0,
                                 "y": -1.0472,
                                 "z": 0.0
                              },
                              "translation": {
                                 "x": 16.6917756,
                                 "y": 1.309016,
                                 "z": -3.575264
                              }
                           }
                        }
                     },
                     "display_index": 1,
                     "target_render_frequency": 60,
                     "target_update_frequency": 120,
                     "texture_assets_directory": "Textures",
                     "brightness": 0,
                     "contrast": 1
                  },
                  "calibration": {
                     "water_valve": {
                        "device_name": "WaterValve",
                        "input": {
                           "measurements": [
                              {
                                 "valve_open_interval": 0.2,
                                 "valve_open_time": 0.01,
                                 "water_weight": [
                                    0.6,
                                    0.6
                                 ],
                                 "repeat_count": 200
                              },
                              {
                                 "valve_open_interval": 0.2,
                                 "valve_open_time": 0.02,
                                 "water_weight": [
                                    1.2,
                                    1.2
                                 ],
                                 "repeat_count": 200
                              }
                           ]
                        },
                        "output": {
                           "interval_average": {
                              "0.01": 0.003,
                              "0.02": 0.006
                           },
                           "slope": 0.30000000000000004,
                           "offset": 2.6020852139652106e-18,
                           "r2": 1.0,
                           "valid_domain": [
                              0.01,
                              0.02
                           ]
                        },
                        "date": "2025-11-13T09:38:37.079075",
                        "description": "Calibration of the water valve delivery system",
                        "notes": null
                     }
                  }
               },
               "session": {
                  "aind_behavior_services_pkg_version": "0.12.3",
                  "version": "0.12.3",
                  "experiment": "AindVrForaging",
                  "experimenter": [
                     "Foo",
                     "Bar"
                  ],
                  "date": "2025-11-13T17:38:37.079861Z",
                  "root_path": "c://",
                  "session_name": "test_2025-11-13T173837Z",
                  "subject": "test",
                  "experiment_version": "0.1.0",
                  "notes": "test session",
                  "commit_hash": null,
                  "allow_dirty_repo": true,
                  "skip_hardware_validation": false
               }
            },
            "core_dependency": null
         },
         "stimulus_modalities": [
            "Auditory",
            "Visual",
            "Virtual reality",
            "Wheel friction"
         ],
         "performance_metrics": null,
         "notes": null,
         "active_devices": [
            "speaker"
         ],
         "configurations": [
            {
               "object_type": "Speaker config",
               "device_name": "speaker",
               "volume": 60.0,
               "volume_unit": "decibels"
            },
            {
               "object_type": "Mouse platform config",
               "device_name": "wheel",
               "objects_in_arena": null,
               "active_control": true
            }
         ],
         "training_protocol_name": null,
         "curriculum_status": "false"
      }
   ],
   "subject_details": {
      "object_type": "Acquisition subject details",
      "animal_weight_prior": null,
      "animal_weight_post": null,
      "weight_unit": "gram",
      "anaesthesia": null,
      "mouse_platform_name": "wheel",
      "reward_consumed_total": null,
      "reward_consumed_unit": null
   }
}